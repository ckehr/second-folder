(function(){define(["external/classnames","external/react","modules/clean/em_string","modules/clean/react/flag","modules/clean/react/modal","modules/clean/react/sprite","modules/clean/sharing/api/types/metadata","modules/clean/sharing/constants","modules/clean/sharing/content_info","modules/core/i18n"],function(e,s,n,t,r,o,a,i,l,m){var c,d,p,u,f,_,h,b;return p=r.Modal,d=a.MemberAccessLevelResult,f=i.SNIPPET_SIZES,c=l.ContentInfo,h=s.createElement,b=s.DOM,_=m.i18n_default_project("sharing")._,u=s.createClass({displayName:"ParentFolderAccessModal",propTypes:{contentInfo:s.PropTypes.instanceOf(c).isRequired,memberAccessLevelResult:s.PropTypes.instanceOf(d).isRequired,memberDisplayName:s.PropTypes.string.isRequired,originalAction:s.PropTypes.oneOf(["remove","update"]).isRequired,isInContentManager:s.PropTypes.bool,onClose:s.PropTypes.func,onParentFolderClicked:s.PropTypes.func},_dismissModal:function(){return p.close(),this._handleDismissed()},_handleDismissed:function(){var e;return"function"==typeof(e=this.props).onClose?e.onClose():void 0},_handleNavigateToParentFolder:function(e){var s;return p.close(),"function"==typeof(s=this.props).onParentFolderClicked?s.onParentFolderClicked(e.shared_folder_id,this._arePermissionsAllowed(e.permissions)):void 0},_arePermissionsAllowed:function(e){return e.some(function(e){return null!=e?e.allow:void 0})},_renderParentFolderContent:function(){var e;return e="remove"===this.props.originalAction?_(this.props.contentInfo.isFolder()?"As a member of the parent folders listed below, %(member_name)s can still access the contents of “%(content_name)s”.":"As a member of the parent folders listed below, %(member_name)s can still access “%(content_name)s”."):"update"===this.props.originalAction?_(this.props.contentInfo.isFolder()?"As a member of the parent folders listed below, %(member_name)s can still edit the contents of “%(content_name)s”.":"As a member of the parent folders listed below, %(member_name)s can still edit “%c(content_name)s”."):void 0,b.div({},e.format({member_name:n.em_snippet(this.props.memberDisplayName,f.DISPLAY_NAME),content_name:n.em_snippet(this.props.contentInfo.name(),f.FILENAME)}),b.div({className:"parent-folder-access-modal__folder-list u-mar-top-s"},b.ul({className:"o-list-ui o-list-ui--dividers"},this.props.memberAccessLevelResult.parentFolders.map(this._renderParentFolder))))},_renderParentFolder:function(e){var s;return s=h(o,{group:"web",name:"folder_user_32",className:"u-pad-right-xs",alt:""}),b.li({},b.div({className:"parent-folder-access-modal__parent-folder u-pad-vertical-xs u-pad-horizontal-s",onClick:this._handleNavigateToParentFolder.bind(null,e)},h(t,{leftAttachment:s,rightAttachment:this._renderFolderLink(e)},n.em_snippet(e.name,f.FILENAME))))},_renderFolderLink:function(e){return b.button({className:"button-as-link",onClick:this._handleNavigateToParentFolder.bind(null,e),type:"button"},_(this._arePermissionsAllowed(e.permissions)?"Manage membership":"View folder"))},_renderSimpleContent:function(){return b.div({},b.span({className:"parent-folder-access-modal__warning"},this.props.memberAccessLevelResult.warning),b.div({className:"u-mar-top-m clearfix"},b.div({className:"u-l-fr"},b.button({className:"c-btn c-btn--primary confirm-button",onClick:this._dismissModal},_("OK")))))},render:function(){var e;return e="remove"===this.props.originalAction?_(this.props.contentInfo.isFolder()?"%(member_name)s can still access this folder":"%(member_name)s can still access this file"):"update"===this.props.originalAction?_(this.props.contentInfo.isFolder()?"%(member_name)s can still edit this folder":"%(member_name)s can still edit this file"):void 0,h(p,{autoClose:!1,className:"parent-folder-access-modal",buttonComponent:b.span(),onDismissCompleted:this._handleDismissed,title:e.format({member_name:n.em_snippet(this.props.memberDisplayName,f.DISPLAY_NAME)})},b.div({className:"parent-folder-access-modal__contents"},null==this.props.memberAccessLevelResult.parentFolders||this.props.isInContentManager?this._renderSimpleContent():this._renderParentFolderContent()))}}),{ParentFolderAccessModal:u}})}).call(this);
//# sourceMappingURL=parent_folder_access_modal.min.js-vflHRu5bO.map